<!DOCTYPE html><html><head><meta charset="utf-8"><title>三个基本构造单元 | Functional Thinking</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="代码: https://github.com/ltoddy/beautiful-code/tree/master/basic-structural-unit  过滤(filter)  过滤(filter)是列表的一种基本操作,根据我们给出的条件,从一个大集合中选出符合我们条件的小集合."><meta property="og:type" content="article"><meta property="og:title" content="三个基本构造单元"><meta property="og:url" content="https://ltoddy.github.io/beautiful-code/2018/03/三个基本构造单元/index.html"><meta property="og:site_name" content="Functional Thinking"><meta property="og:description" content="代码: https://github.com/ltoddy/beautiful-code/tree/master/basic-structural-unit  过滤(filter)  过滤(filter)是列表的一种基本操作,根据我们给出的条件,从一个大集合中选出符合我们条件的小集合."><meta property="og:locale" content="zh-cn"><meta property="og:updated_time" content="2018-03-10T14:32:34.119Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="三个基本构造单元"><meta name="twitter:description" content="代码: https://github.com/ltoddy/beautiful-code/tree/master/basic-structural-unit  过滤(filter)  过滤(filter)是列表的一种基本操作,根据我们给出的条件,从一个大集合中选出符合我们条件的小集合."><link rel="alternate" href="/atom.xml" title="Functional Thinking" type="application/atom+xml"><link rel="icon" href="/favicon.png"><link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/beautiful-code/css/style.css"><link rel="stylesheet" href="/beautiful-code/plugin/bganimation/bg.css"></head><body><div id="container"><div id="wrap"><div class="outer"><div class="widget-wrap mobile-header"><h3 class="widget-title"></h3><div class="widget"><img class="avatar" src="https://img.vim-cn.com/59/417d1ad4b4b5a7c46e44ee36c234d5fd4ced73.jpg"><h2 class="author">ltoddy</h2><h3 class="description"></h3></div></div><section id="main"><article id="post-三个基本构造单元" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/beautiful-code/2018/03/三个基本构造单元/" class="article-date"><time class="post-time" datetime="2018-03-10T18:22:23.000Z" itemprop="datePublished"><span class="post-month">3月</span><br><span class="post-day">10</span></time></a></div><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">三个基本构造单元</h1><div></div></header><div class="article-entry" itemprop="articleBody"><p>代码: <a href="https://github.com/ltoddy/beautiful-code/tree/master/basic-structural-unit" target="_blank" rel="noopener">https://github.com/ltoddy/beautiful-code/tree/master/basic-structural-unit</a></p><ul><li><h2 id="过滤-filter"><a href="#过滤-filter" class="headerlink" title="过滤(filter)"></a>过滤(filter)</h2></li></ul><p>过滤(filter)是列表的一种基本操作,根据我们给出的条件,从一个大集合中选出符合我们条件的小集合.</p><a id="more"></a><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">define</span></span> filter</span><br><span class="line">    (<span class="name"><span class="builtin-name">lambda</span></span> (proc iter)</span><br><span class="line">      (<span class="name"><span class="builtin-name">cond</span></span></span><br><span class="line">        ((<span class="name"><span class="builtin-name">null?</span></span> iter) '())</span><br><span class="line">        ((<span class="name">proc</span> (<span class="name"><span class="builtin-name">car</span></span> iter))</span><br><span class="line">         (<span class="name"><span class="builtin-name">cons</span></span> (<span class="name"><span class="builtin-name">car</span></span> iter) (<span class="name">filter</span> proc (<span class="name"><span class="builtin-name">cdr</span></span> iter))))</span><br><span class="line">        (<span class="name"><span class="builtin-name">else</span></span> (<span class="name">filter</span> proc (<span class="name"><span class="builtin-name">cdr</span></span> iter))))))</span><br></pre></td></tr></table></figure><p>过滤函数将我们(通常体现于高阶函数)给定的布尔逻辑作用于集合,返回由原来符合条件<br>的元素组成的子集合,filter操作常与查找(find)函数关系密切.</p><blockquote><p>根据过滤条件来产生一个子集合的时候用filter</p></blockquote><ul><li><h2 id="映射-map"><a href="#映射-map" class="headerlink" title="映射(map)"></a>映射(map)</h2><p>映射(map)操作是对原集合的每一个元素执行给定的函数,从而转变成一个新集合.<br>传给映射函数的是一个高阶函数和一个集合,它在对集合中每一个元素使用传入的函数后,产生另一个集合返回值.<br>返回集合的大小与原来传入的集合相同,只是元素的值变了.</p></li></ul><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">define</span></span> map</span><br><span class="line">    (<span class="name"><span class="builtin-name">lambda</span></span> (proc iter)</span><br><span class="line">      (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">null?</span></span> iter)</span><br><span class="line">          '()</span><br><span class="line">          (<span class="name"><span class="builtin-name">cons</span></span> (<span class="name">proc</span> (<span class="name"><span class="builtin-name">car</span></span> iter)) (<span class="name"><span class="builtin-name">map</span></span> proc (<span class="name"><span class="builtin-name">cdr</span></span> iter))))))</span><br></pre></td></tr></table></figure><blockquote><p>需要变换一个集合的时候,用map</p></blockquote><ul><li><h2 id="折叠-reduce"><a href="#折叠-reduce" class="headerlink" title="折叠(reduce)"></a>折叠(reduce)</h2><p>折叠(reduce)用一个积累量来“收集”集合元素.reduce一般需要一个为积累量使用的初始值.</p></li></ul><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">define</span></span> reduce</span><br><span class="line">    (<span class="name"><span class="builtin-name">lambda</span></span> (proc init iter)</span><br><span class="line">      (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">null?</span></span> iter)</span><br><span class="line">          init</span><br><span class="line">          (<span class="name">proc</span> (<span class="name"><span class="builtin-name">car</span></span> iter) (<span class="name">reduce</span> proc init (<span class="name"><span class="builtin-name">cdr</span></span> iter))))))</span><br></pre></td></tr></table></figure><blockquote><p>把集合一小块一小块的处理的时候,用reduce</p></blockquote><hr><p>学习新范式的困难有一部分在于学习新的术语.假如遇到不同社群使用不同的术语的情况,想搞清楚就更难了.<br>不过只要抓住不同语言的共同点去观察,就能够看穿在形形色色的语法遮挡之下,其实功能大同小异.</p></div><footer class="article-footer"><a data-url="https://ltoddy.github.io/beautiful-code/2018/03/三个基本构造单元/" data-id="cjemqm2tg0001akpx92rlggk9" class="article-share-link">Share</a></footer></div><nav id="article-nav"><a href="/beautiful-code/2018/03/思维转变/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">思维转变</div></a></nav></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title"></h3><div class="widget"><h1 class="blog-title">Functional Thinking</h1><h2 class="blog-subtitle">The computer science actually has a lot in common with magic.</h2></div></div><div class="widget-wrap"><h3 class="widget-title"></h3><div class="widget"><img class="avatar" src="https://img.vim-cn.com/59/417d1ad4b4b5a7c46e44ee36c234d5fd4ced73.jpg"><h2 class="author">ltoddy</h2><h3 class="description"></h3><div class="social-link"><a class="hvr-bounce-in" href="https://github.com/ltoddy/beautiful-code" target="_blank" title="Github">Github</a></div><div class="friend-link"><h2></h2></div></div></div></aside></div></div><script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script><script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script><script>(new WOW).init()</script><link rel="stylesheet" href="/beautiful-code/plugin/fancybox/jquery.fancybox.css"><script src="/beautiful-code/plugin/fancybox/jquery.fancybox.pack.js"></script><section class="hidden-xs"><ul class="cb-slideshow"><li><span>苟利</span></li><li><span>国家</span></li><li><span>生死以</span></li><li><span>岂能</span></li><li><span>祸福</span></li><li><span>趋避之</span></li></ul></section><script src="/beautiful-code/js/script.js"></script></div></body></html>